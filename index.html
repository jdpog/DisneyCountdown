<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Disney Countdown Â· Kraken</title>
<style>
  :root { --bg:#0b0d10; --card:#ffffff; --digit:#0f3a66; --divider:#cfd6de; --radius:22px; }
  *{box-sizing:border-box} html,body{height:100%;margin:0}
  body{background:var(--bg);color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;display:grid;place-items:center}
  .frame{width:100%;height:100%;padding:6%;display:grid;place-items:center}
  .panel{width:100%;height:100%;display:grid;place-items:center;text-align:center;border-radius:28px;position:relative}
  .tiles{display:flex;gap:min(2.6%,16px);align-items:stretch;justify-content:center;width:100%;height:100%;padding:min(6%,28px)}
  .tile{background:var(--card);border-radius:var(--radius);box-shadow:0 8px 28px rgba(0,0,0,.45);position:relative;flex:1 1 auto;min-width:0;display:grid;place-items:center;padding:0 .08em}
  .tile::before{content:"";position:absolute;left:8%;right:8%;top:50%;height:1.5px;background:var(--divider);transform:translateY(-.75px)}
  .digit{color:var(--digit);font-weight:800;line-height:.86;letter-spacing:-.02em;font-size:10px;transform:translateY(-1px)}
  .subtitle{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);font-weight:700;letter-spacing:.06em;text-transform:uppercase;font-size:12px;opacity:.88;color:#e9f1ff}
  .safe-circle{padding:10%}
  noscript{color:#fff;opacity:.8}
</style>
</head>
<body>
  <div class="frame" id="frame">
    <div class="panel" id="panel">
      <div class="tiles" id="tiles"></div>
      <div class="subtitle" id="subtitle">DAYS TO DISNEY</div>
    </div>
  </div>
  <noscript>Enable JavaScript to see the countdown.</noscript>

<script>
// ===== SET YOUR DATE HERE (YYYY-MM-DD) =====
var TRIP_DATE = '2025-11-07';
// ===========================================

// Add circular safe padding if NZXT reports a round screen
try {
  var nzxt = (window.nzxt && window.nzxt.v1) ? window.nzxt.v1 : {};
  if (nzxt.shape === 'circle') { document.getElementById('frame').className += ' safe-circle'; }
} catch (e) { /* ignore */ }

// Date math: days until (ceil, floor at 0)
function daysUntil(dateISO){
  var now = new Date(); var start = new Date(dateISO + 'T00:00:00');
  var ms = start.setHours(0,0,0,0) - now.setHours(0,0,0,0);
  var d = Math.ceil(ms / 86400000);
  return (d < 0) ? 0 : d;
}

// Render digits as DVC-style tiles
function renderCountdown(days){
  var tilesWrap = document.getElementById('tiles');
  tilesWrap.innerHTML = '';
  var s = String(days);
  for (var i=0; i<s.length; i++){
    var ch = s.charAt(i);
    if (ch < '0' || ch > '9') { continue; }
    var tile = document.createElement('div'); tile.className = 'tile';
    var d = document.createElement('div'); d.className = 'digit'; d.textContent = ch;
    tile.appendChild(d); tilesWrap.appendChild(tile);
  }
  autoSizeDigits();
}

// Resize digits to fit the panel
function autoSizeDigits(){
  var digits = document.querySelectorAll('.tile .digit');
  if (!digits.length) return;
  var container = document.getElementById('panel');
  var w = container.clientWidth, h = container.clientHeight;
  var cols = digits.length;
  var gap = Math.min(w * 0.026, 16);
  var sidePad = Math.min(w, h) * 0.12;
  var tileW = (w - (gap * (cols - 1)) - sidePad) / cols;
  var tileH = h - (Math.min(w, h) * 0.22);
  var base = Math.min(tileW, tileH);
  var size = Math.max(12, Math.floor(base * 0.72));
  for (var i=0; i<digits.length; i++){ digits[i].style.fontSize = size + 'px'; }
}

// Boot
var d = daysUntil(TRIP_DATE);
renderCountdown(d);
document.getElementById('subtitle').textContent = (d === 1 ? 'DAY' : 'DAYS') + ' TO DISNEY';
window.addEventListener('resize', function(){ setTimeout(autoSizeDigits, 40); });
</script>
</body>
</html>
